### 4장 화소점 처리

* 원 화소의 값이나 위치를 바탕으로 단일 화소 값을 변경하는 기술
* 다른 화소의 영향을 받지 않고 단순히 화소 점의 값만 변경하므로 포인트 처리(Point Processiong)라고 함.
* 산술연산, 논리연산, 반전, 광도 보정, 히스토그램 평활화, 명암 대비 스트레칭 등의 기법이 있음.
* 디지털 영상의 산술연산은 디지털 영상의 각 화소 값에서 임의의 상수 값으로 덧셈, 뺄셈, 곱셈, 나눗셈을 수행하는것.
* 그레이 레벨 영상에서 화소 값이 작으면 영상이 어둡고, 화소의 값이 크면 밝음. 



##### 산술연산

밝기 조정과 관련

![image-20210525114615581](https://user-images.githubusercontent.com/82528589/119754442-7c73a100-bedb-11eb-8b5e-c6496a444e75.png)

##### 논리연산

* 참과 거짓을 판별하는 연산

* 화소의 상수 값에서 AND, OR, XOR, NOT 등의 연산을 수행하여 디지털 영상에서 차폐, 특징 추출, 형태 분석을 함.

##### 히스토그램(Histogram)

* 기둥그래프나 기둥 모양 그림이라고도 하며, 관측한 데이터가 분포된 특징을 한눈에 볼 수 있도록 기둥 모양으로 나타냄.

* 가로 축에는 레벨을 세로 축에는 빈도수 표시.

* 즉 , 가로축은 영상의 밝기(Intensity)값, 세로축은 가로축의 밝기 값에 대응 하는 디지털 영상 내의 화소 수.

![image-20210525114642426](https://user-images.githubusercontent.com/82528589/119754463-85fd0900-bedb-11eb-8315-beaed9605f70.png)



##### 히스토그램 평활화 기술

편중된 디지털 영상의 히스토그램을 골고루 분산시켜 영상 전체의 명암대비를 높여줌.



##### 히스토그램 명세화 기술

* 디지털 영상이 원하는 히스토그램을 갖게 해주는 기술.
* 특정 부분의 명암 대비를 높일 수 있음.
![image-20210525122035748](https://user-images.githubusercontent.com/82528589/119754497-93b28e80-bedb-11eb-8077-84f65ba635a1.png)



##### 화소의 밝기 값

* 밝기의 단계 수는 화소를 표현하는 양자화 비트 수가 결정.

* 그레이 레벨 영상에서는 색은 없고 밝기만 있음.

* 보통, 화소는 밝기를 나타내는데 , 주로 양자화 비트수를 8비트로 표현



##### 명암 대비

* 대비(Contrast): 영상 내에 가장 밝은 값과 가장 어두운 값의 차이로, 영상의 품질을 결정하는 중요한 요소임.

* 높은 대비를 보이는 디지털 영상: 어두운 명도와 밝은 명도의 차이가 너무 커서 시각적으로 좀 더 명확하게 보임.
* 낮은 대비를 보이는 디지털 영상: 밝기의 차이가 크지 않아 시각적으로 명확하지 못함. 



##### 화소값의 덧셈연산

화소의 밝기 값에 특정한 상수 값을 더해 화소의 밝기 값을 증가시켜 영상을 밝게 하는 처리 기술

![image-20210525142829310](https://user-images.githubusercontent.com/82528589/119754521-9d3bf680-bedb-11eb-9bc4-bca4f20ff5c6.png)

화소의 값에 임의의 상수를 더할 때 화소의 최대값을 넘기도 함.

최대값인 255를 넘는 값은 모두 255로 처리

![image-20210525142858717](https://user-images.githubusercontent.com/82528589/119754559-a9c04f00-bedb-11eb-8ff4-e1985b334c05.png)

![image-20210525142909281](https://user-images.githubusercontent.com/82528589/119754587-b349b700-bedb-11eb-8230-46948acc54c7.png)



##### 화소값의 뺄셈 연산

화소의 밝기 값에 특정한 상수 값을 뺴 화소의 밝기 값을 감소시켜 영상의 밝기를 어둡게 하는 처리 기술 

![image-20210525153426076](https://user-images.githubusercontent.com/82528589/119754934-25ba9700-bedc-11eb-8561-56960f30c9a7.png)


화소의 값에 임의의 상수를 뺄 때 화소의 최소값0보다도 작은 음수가 발생할 수 있음.

화소의 최소값인 0보다 작은 음수 값은 모두 0으로 처리

![image-20210525153506088](https://user-images.githubusercontent.com/82528589/119754953-2ce1a500-bedc-11eb-99dc-535b311734ec.png)



##### 화소 값의 곱셈연산

화소의 밝기 값에 특정 상수 값을 곱해 전체적으로 화소의 밝기 값이 증가해 더 밝아짐.

![image-20210525153627013](https://user-images.githubusercontent.com/82528589/119754975-366b0d00-bedc-11eb-8b10-d06a77781d03.png)

밝은 부분은 더욱 밝아지고, 어두운 부분은 약간 밝아져 영상 내의 밝기에 커다란 차이가 생기는 것

밝기의 차이가 커지므로 영상의 선명도 증가함.



##### 화소 값의 나눗셈연산

화소 값을 임의의 상수 값으로 나누면 전체적으로 화소의 밝기 값은 감소하고 , 최대 밝기와 최소 밝기의 차이는 작아짐.

밝은 부분은 많이 어두워지고, 어두운 부분은 약간 어두워짐.
![image-20210525161010210](https://user-images.githubusercontent.com/82528589/119755156-821db680-bedc-11eb-8302-524fe77a1dab.png)

![image-20210525161035176](https://user-images.githubusercontent.com/82528589/119755179-8cd84b80-bedc-11eb-9f88-3161ac7ed294.png)

![image-20210525161056454](https://user-images.githubusercontent.com/82528589/119755201-95308680-bedc-11eb-82cb-05f99427a2d7.png)

##### 문제점

결과 값이 화소의 최대값과 최소값을 넘을 수 있음.



##### 해결 방법

##### 클래핑 기법

* 연산의 결과 값이 최소값보다 작으면 그 결과 값을 최소값으로, 최대값보다 크면 결과 값을 최대값으로 하는 기법
* 8비트 그레이 영상의 최소값은 0, 최대값은 255
* 음수는 0으로 설정하고, 255보다 큰 값은 255로 설정함.



##### 랩핑 기법

* 연산의 결과 값이 최소값보다 작으면 그 결과 값을 최소값으로, 최대값보다 크면 최소값부터 최대값까지를 한 주기로 해서 이를 반복하는 기법

* 최대값+1은 최고값이 되고, 연산의 결과 값이 최대값+상수 값일 때는 계속 상수 값 -1로 설정함.

* 8비트 그레이 영상의 최소값은 당연히 0이고, 최대값은 255

* 음수는 0으로, 255보다 큰 결과 값256은 0으로 , 257은 1로 설정한 후 이런 방식으로 주기를 계속 반복

  ![image-20210525161440748](https://user-images.githubusercontent.com/82528589/119755262-ae393780-bedc-11eb-8351-50a41f8b2e79.png)


##### <상수 덧셈 결과>

![image-20210525161700242](https://user-images.githubusercontent.com/82528589/119755282-b7c29f80-bedc-11eb-95ce-8ae4ead1211b.png)

원본영상 (왼쪽), 원본영상+50 (오른쪽)



##### <상수 뺄셈 결과>

![image-20210525161913582](https://user-images.githubusercontent.com/82528589/119755295-c14c0780-bedc-11eb-942d-22590df04e21.png)

원본영상(왼쪽), 원본영상-70(오른쪽)



##### <상수 곱셈 결과>

![image-20210525162041654](https://user-images.githubusercontent.com/82528589/119755332-cdd06000-bedc-11eb-8f75-92e8333188db.png)

원본영상(왼쪽), 원본영상X3(오른쪽)



##### <상수 나눗셈 결과>

![image-20210525162203889](https://user-images.githubusercontent.com/82528589/119755353-d4f76e00-bedc-11eb-8930-cb5a6ab21917.png)

원본영상(왼쪽), 원본영상/2(오른쪽)



#### 화소 값의 AND 연산

* 원하는 비트를 선택적으로 0으로 만드는 기능이 있어 마스크(mask) 연산이라고도 함.
* 영상의 특정 화소 비트에서 0으로 구성된 이진 데이터와 AND연산을 수행

![image-20210525162355606](https://user-images.githubusercontent.com/82528589/119755359-dc1e7c00-bedc-11eb-9785-6a9705d6edec.png)



#### 화소 값의 OR 연산

* 특정 비트를 선택적으로 1로 구성할 수 있어 선택적 세트(selective-set)연산이라고도 함.

* 화소의 특정 비트를 1로 만들려고 원하는 비트위치가 1로 구성된 이진 데이터와 OR연산을 수행.

  

![image-20210525162541452](https://user-images.githubusercontent.com/82528589/119755378-e476b700-bedc-11eb-8c2b-2b29cda311f1.png)



#### 화소 값의 XOR 연산

* 입력이 서로 다를 때만 1을 출력하는 연산으로, 두 데이터를 비교하므로 비교 연산이라고도 함.

* 같은 비트에서만 0을 출력함.

  

![image-20210525162846479](https://user-images.githubusercontent.com/82528589/119755406-ee001f00-bedc-11eb-821c-0274123e0223.png)



#### 화소 값의 NOT 연산

* 화소 비트를 반전시키는 일을 함.
* 영상에서는 검정색이 흰색으로, 흰색이 검정색으로 반전됨.

![image-20210525162948737](https://user-images.githubusercontent.com/82528589/119755419-f5bfc380-bedc-11eb-8e81-8a85ca7d4563.png)



##### <AND 연산 결과>

![image-20210525163129779](https://user-images.githubusercontent.com/82528589/119755434-ff492b80-bedc-11eb-98e3-66289666df88.png)

영상의 화소 값에 상수 128을 AND 연산한 결과 영상



##### <XOR 연산 결과>
![image-20210525163457571](https://user-images.githubusercontent.com/82528589/119755453-08d29380-bedd-11eb-8c21-e8f0c7acfa91.png)

영상의 화소 값에 상수 128을 XOR 연산한 결과 영상 



#### 화소 점 처리 기법

**Output(q) = T[Input(p)]**

P는 입력 영상의 화소 값이고, T로 화소 값을 변환함.

q는 값을 변환하여 얻는 출력 화소 값



#### 명암 변환(Intensity Transform)

밝기를 변경하는 것

미리 지정된 변환 함수를 기반으로 입력 영상의 이전 화소를 새로운 화소로 변환하는 점 처리 기법



#### 널 변환(Null Transform)

* 입력 영상을 출력 영상으로 변환해도 변화가 없는 것
* 단순히 입력 화소를 출력 화소로 바꾸는 변환
* 널 변환의 변환 함수

![image-20210525170229521](https://user-images.githubusercontent.com/82528589/119755485-138d2880-bedd-11eb-91f8-1d7aba12f194.png)



#### 영상의 반전 변환(Negative Transform)

* 사진학적 역변환
* 각 화소의 값이 영상 내에 대칭이 되는 값으로 변환
* 8비트 그레이 레벨의 영상을 반전시키면 화소 값 0번은 255번으로, 화소 값 1번은 254번으로 변환됨
* 반전 변환의 변환 함수

**Output(q) = 255-Input(p)**

![image-20210525170506233](https://user-images.githubusercontent.com/82528589/119755510-1be56380-bedd-11eb-8517-7382f9803933.png)



#### 감마 보정(gamma Correction)

* 입력 값을 조정하여 출력을 제대로 만드는 과정
* 감마 보정 함수 

**Output(q) =[Input(p)] (1/r) **

함수의 감마 값(r)에 따라 영상을 밝게 하거나 흐리게 조절할 수 있음.

감마 값이 1보다 크면 영상이 어두워지고, 1보다 작으면 영상이 밝아짐.

![image-20210525170929493](https://user-images.githubusercontent.com/82528589/119755549-27388f00-bedd-11eb-808b-c4aab3f8163b.png)



#####  명암 대비 스트레칭(Intensity Contrast Stretch)

* 밝기의 차이를 크게 하는 것
* 영상의 가장 밝은 값을 최대 밝게, 가장 어두운 값을 최대 어둡게 설정하여  높은 명암 대비를 보이는 영상을 생성하는 것

##### 명암 대비 압축(Intensity Contrast  Compress)

* 영상의 가장 어두운 값을 밝게, 가장 밝은 값을 어둡게 하여 밝기 차이를 줄임으로써 낮은 명암 대비를 보이는 영상을 생성하는 것

![image-20210525171225484](https://user-images.githubusercontent.com/82528589/119755567-2ef83380-bedd-11eb-9801-a1c4d2c96ac4.png)

#####  경계 값을 이용한 처리

* 디지털 영상의 화소 값을 주어진 경계 값으로 그룹화하여 결국 화소 값의 수를 감소시키는 처리 방법



#### 포스터라이징(Posterizing)

* 영상에서 화소에 있는 명암 값의 범위를 경계 값으로 축소
* 경계 값 8개로 8비트 그레이 레벨 영상을 포스터라이징 처리하면, 명암값 255개가 명암값 8개로 변경됨.

![image-20210525172148418](https://user-images.githubusercontent.com/82528589/119755591-3c152280-bedd-11eb-8e27-a0c03a215610.png)



#### 이진화 (Binarization)

* 경계 값을 이용해 값이 두 개만 있는 영상으로 변환해 주는 것
* 보통 그레이 레벨 영상을 이진 영상으로 변환할 때 사용
* 값이 두 개 뿐이라서 영상을 쉽게 분석할 수 있고, 명암 대비가 매우 낮은 영상에서는 배경과 물체를 확실하게 구분할 수 있게 해줌.

![image-20210525172312941](https://user-images.githubusercontent.com/82528589/119755603-420b0380-bedd-11eb-896b-c6eb8fb0715a.png)



#### 범위 강조 변환

* 영상에서 한 부분의 화소는 원 상태를 그대로 유지한 채 일정 범위의 화소만 강조하는 변환
* 원하는 부분의 화소 값이 더 커지너가 작아져 다른 부분과 비교해서 더욱 도드라져 보임. 

![image-20210525200143365](https://user-images.githubusercontent.com/82528589/119755624-48997b00-bedd-11eb-9561-f46d1f144f0c.png)

##### < 영상 반전 결과>

![image-20210525205852623](https://user-images.githubusercontent.com/82528589/119755649-4f27f280-bedd-11eb-8b75-3ba4a4397b20.png)



##### < 감마 보정 결과>

![image-20210525210034040](https://user-images.githubusercontent.com/82528589/119755677-5bac4b00-bedd-11eb-9b04-274018b0bd2a.png)



##### <영상의 이진 결과>

![image-20210525210144313](https://user-images.githubusercontent.com/82528589/119755700-64048600-bedd-11eb-996f-1bc0d5e64db4.png)

경계 값 =130



##### < 범위 강조 변환>

![image-20210525210334111](https://user-images.githubusercontent.com/82528589/119755720-6c5cc100-bedd-11eb-9d93-aa885fd3144b.png)

범위: 100 ~150
